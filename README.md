# **Shopping App**       
<img width="910" alt="스크린샷 2023-11-07 오후 8 35 21" src="https://github.com/ha-ny/ShoppingProject/assets/130643750/1f45f573-38bc-49a9-ac78-13539f42d1c7">

### **소개**
Naver Shopping API를 활용한 검색 기능, 사용자 즐겨찾기가 가능합니다.<br>
상품 선택 시 네이버 쇼핑 화면으로 이동하여 즉시 구매할 수 있습니다.<br>

### **앱 기능**
1. 검색: 상품 검색 후 하트를 클릭하면 좋아요 목록에 등록됩니다.
2. 좋아요 목록: 사용자의 관심 목록입니다. 좋아요 취소 시 리스트에서 삭제됩니다.
3. 상품 선택 시: 네이버 쇼핑 화면이 직접 연결되어 있습니다.<br>

### **개발**
기간: 2023.09.08 ~ 2023.09.11<br>
최소 지원 버전: iOS 13<br>

### **기술**
**DB :** `Realm`<br>
**UI :** `UIKit` `CodeBaseUI` `SnapKit` `WebKit` `UICollectionView` <br>
**Etc :** `Alamofire` `Codable` `prefetchDataSource` `Kingfisher`<br>

### **기능 구현**
- `Alamofire` 를 통해 네트워크 요청 전달. `Codable` 프로토콜을 활용한 API 응답 데이터 디코딩
- Pagination : `prefetchDataSource` 를 통한 부드러운 스크롤 및 데이터 로딩 제공
- 재사용 `CollectionViewCell` 을 통한 중복 코드 최소화
- `WebKit` 을 통한 앱 내 상품 구매
- 네트워크 트래픽 최적화: `Kingfisher` 를 통한 이미지 비동기 다운로드 및 캐싱
- 보안: API Key 보호를 위한 `gitIgnore` 파일 관리<br>

### **트러블 슈팅**
**1. 네트워크 오류 및 에러 처리**
- **문제 상황:** 네트워크 통신 중에 발생하는 오류 상황을 처리하기 위해 서버로부터의 응답이나 네트워크 연결 문제 등에 대비했습니다.<br>
- **해결 방법:** validate를 사용하여 특정 상태 코드를 성공으로 처리합니다.<br>

**2. 메모리 최적화 및 이미지 관리**
- **문제 상황:** 대용량 이미지를 다운로드하고 표시할 때 메모리 부족 문제가 발생할 수 있습니다. 특히 뷰 컨트롤러가 메모리에서 해제되지 않고 계속 존재할 때 문제가 됩니다.<br>
- **해결 방법:** Kingfisher 라이브러리를 사용하여 이미지를 비동기적으로 다운로드하고 캐싱 하여 메모리 사용을 최적화했습니다. prepareForReuse 메서드를 활용하여 재사용되는 셀의 상태를 초기화하여 메모리 누수를 방지합니다.<br>

**3. API 응답 데이터의 무결성 확인**
- **문제 상황:** 서버에서 받아온 API 응답 데이터의 무결성을 확인하여 올바른 정보를 화면에 표시해야 합니다.<br>
- **해결 방법:** Codable 프로토콜을 활용하여 API 응답 데이터를 디코딩 하였습니다. 디코딩 된 데이터의 일부 또는 전체를 확인하여 필요한 정보를 화면에 출력하였습니다.<br>

### **회고**
프로젝트 초기 설정 과정에서 iOS 13부터 대응을 목표로 했지만 기능의 최소 버전을 고려해야 한다는 점은 생각하지 못했습니다. 이를 통해 원하는 기능의 availability를 확인하고 버전에 따라 코드를 분기 작성해야 한다는 것을 알게 되었습니다.<br>

Alamofire를 도입하는 과정에서는 개발 도중 필요한 부분을 추가적으로 학습하는 방향으로 진행했습니다. 특히 맞춤형 헤더와 파라미터 설정을 통해 요청을 보내고, 응답 데이터를 파싱하고 처리하는 부분이 흥미로웠습니다.<br>
하지만 짧은 시간 동안 완성을 목표로 삼다 보니 초기 계획을 제대로 세우지 않아 결국 프로젝트를 처음부터 다시 시작해야 했었습니다. 이를 통해 초기 단계에서 충분한 계획과 학습이 필수라는 것을 깨달았습니다.<br>

에러 핸들링, 코드 구조 개선, 문서화와 같은 디테일한 작업은 진행하지 못했지만, 4일이라는 짧은 시간 동안 최선을 다해 결과물을 내기 위해 노력했습니다.<br>
